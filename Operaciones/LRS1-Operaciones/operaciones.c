/*COMANDOS:  normal,  cerrar_ojoI,  abrir_ojoI,  cerrar_ojoD,  abrir_ojoD,  comenzar_habla,  parar_habla,  mover_cuelloI,  mover_cuelloC,  mover_cuelloD,  mover_cuelloAr,  mover_cuelloCe,  mover_cuelloAb,  feliz,  triste,  habilitar_entradas,  deshabilitar_entradas,*/#include "pr1-ula.h"#include <stdio.h>#include <string.h>#include <stdlib.h>#include <time.h>int verificar(int, int, int, int);int recibido;  int id;int main(){   int s, n = 0, i = 0;  int puntos = 0;  int j, h, fin = 0;  int signo, resultado, opcion;	  char cad[20];  char cad2[20];  char op;  int aux;   id = conectarRobot(LRS1);         /*system(" mpg123 -q Title.mp3&" );  enviarRobot(id, comenzar_habla);  narrar("-v mb-es1 -a450 -s130 -p70", "Hola soy L, R, S, 2.");//Buscar nombre amigables  enviarRobot(id, parar_habla);    esperar(1);  enviarRobot(id, comenzar_habla);  narrar("-v mb-es1 -a450 -s130 -p70", "¡Vamos a jugar!");  enviarRobot(id, parar_habla);    esperar(1);  enviarRobot(id, comenzar_habla);  narrar("-v mb-es1 -a450 -s130 -p70", "Te haré preguntas sobre operaciones matemáticas, y debes responder cuál es el resultado para cada una");  enviarRobot(id, parar_habla);    esperar(1);  enviarRobot(id, comenzar_habla);  narrar("-v mb-es1 -a450 -s130 -p70", "EMPECEMOS");  enviarRobot(id, feliz);    esperar(2);    system(" mpg123 -q fondo.mp3&" );*/while(i < 15 && fin < 2){  	srand (time(NULL));		signo = rand() % 2;	if(signo == 1){		aux = rand() % 3;		if(aux == 0){			j = rand() % 9 + 1; 			h = j - 1;		}else if(aux == 1){			j = rand() % 8 + 2; 			h = j - 2;		}else{			j = rand() % 7 + 3; 			h = j - 3;		}	}else{		aux = rand() % 3;		if(aux == 0){			h = rand() % 8 + 2; 			j = h - 1;		}else if(aux == 1){			h = rand() % 8 + 2; 			j = h - 2;		}else{			h = rand() % 7 + 3; 			j = h - 3;		}	}    sprintf(cad,"%i",j);	    sprintf(cad2,"%i",h);        if(i==14){      system("killall mpg123");      system(" mpg123 -q suspenso.mp3&" );    }    opcion=0;    if(signo == 0){		resultado= -j + h;		enviarRobot(id,comenzar_habla);		narrar("-v mb-es1 -a420 -s130 -p70", "menos");		enviarRobot(id,parar_habla);		enviarRobot(id,comenzar_habla);		narrar("-v mb-es1 -a420 -s130 -p70", cad);		enviarRobot(id,parar_habla);		enviarRobot(id,comenzar_habla);		narrar("-v mb-es1 -a420 -s130 -p70", "+");		enviarRobot(id,parar_habla);		enviarRobot(id,comenzar_habla);		narrar("-v mb-es1 -a420 -s130 -p70", cad2);		enviarRobot(id,parar_habla);		printf("\nRespuesta = ");                esperarMilisegundos(500);		//printf("- %s + %s = ",cad,cad2 );		//scanf("%i",&opcion);                opcion = recibirRobot(id);                esperar(1);	}else if(signo == 1){		resultado= (j - h);        		enviarRobot(id,comenzar_habla);		narrar("-v mb-es1 -a420 -s130 -p70", cad);    		enviarRobot(id,parar_habla);    		enviarRobot(id,comenzar_habla);		narrar("-v mb-es1 -a420 -s130 -p70", "menos");   		enviarRobot(id,parar_habla);    		enviarRobot(id,comenzar_habla);		narrar("-v mb-es1 -a420 -s130 -p70", cad2);    		enviarRobot(id,parar_habla);    	printf("\nRespuesta = ");               esperarMilisegundos(500);		//printf("%s - %s = ",cad,cad2);		//scanf("%i",&opcion);		opcion = recibirRobot(id);                esperar(1);	}   n = verificar(opcion,resultado,s,n);   if(n == 1){      puntos = 50 + puntos;      printf("\nPuntos = %i\n", puntos);      if(puntos == 250){             enviarRobot(id,comenzar_habla);        narrar("-v mb-es1 -a420 -s130 -p70", "¡Muy bien!");        enviarRobot(id,triste);        system("killall mpg123");        system(" mpg123 -q correct4.mp3&" );        esperar(3);        system(" mpg123 -q fondo.mp3&" );      }      if(puntos == 500){         enviarRobot(id,comenzar_habla);        narrar("-v mb-es1 -a420 -s130 -p70", "¡Excelente! vamos por más");        enviarRobot(id,triste);        system("killall mpg123");        system(" mpg123 -q Puntos.mp3&" );        esperar(3);        system(" mpg123 -q fondo.mp3&" );      }   }else{ fin++; }   	i++; }  desconectarRobot(id);}int verificar(int opcion, int resultado, int s, int n){    int i = 0;  srand (time(NULL));  i = rand() % 3; 	if(opcion == resultado){        if(i == 0){        enviarRobot(id, feliz);        system(" mpg123 -q correct.mp3&" );        esperar(1);      }else if(i == 1){        enviarRobot(id, feliz);        system(" mpg123 -q correct2.mp3&" );  		  esperar(1);      }else{        enviarRobot(id, feliz);        system(" mpg123 -q correct3.mp3&" );        esperar(1);      }      n = 1;      return n;	  }else{  			enviarRobot(id, triste);          if(i == 0){      system(" mpg123 -q incorrect.mp3&" );      esperar(1);      }else if(i == 1){      system(" mpg123 -q incorrect2.mp3&" );      esperar(1);    }else{      system(" mpg123 -q angry.mp3&" );      esperar(2);    }    n = 0;    return n;	}    }